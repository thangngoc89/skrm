{"version":3,"sources":["ulid.js","exam_form/PhieuDieuTra_Main.js","questions/data/Question_schema.js","questions/data/Question_schema_initialValues.js","questions/Render_question.js","questions/Render_question_form.js","forms/Form_ChildOIDP_data.js","forms/Form_ChildOIDP_validate.js","forms/Form_ChildOIDP.js","RecordInput.js","RecordNew.js"],"names":["ulid__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","ulid","monotonicFactory","PDT_TieuhocForm","_ref","_ref$initialValues","initialValues","tieuhoc_initialValues","onSave","react_default","a","createElement","formik_esm","onSubmit","values","_ref2","setSubmitting","then","validationSchema","tieuhoc_yupSchema","validateOnBlur","validateOnChange","_ref3","handleSubmit","isSubmitting","setFieldValue","setFieldTouched","isValidating","errors","PDT_SchemaRender_bs","layout","tieuhoc_layout","FormikNotify","ids","tieuhoc_ids","MountPortal","id","components","justifyContent","direction","alignItems","FormikAutosave","render","_ref4","type","value","Button","primary","label","size","className","onClick","disabled","color","margin","left","PDT_Tieuhoc","_ref5","Heading","level","textAlign","Text","PhieuDieuTra_Main_PDT_TieuhocForm","Question_schema","question","content","subQuestions","custom","schemaToInitialValues","schema","reduce","acc","questionBag","subInitialValues","forEach","sub","Error","RenderQuestionHeader","SelectOne","questionValue","hasError","hasCustom","hasOwnProperty","fieldName","fieldValue","objStr","my-3","bg-error-bg py-3","Render_question_RenderQuestionHeader","map","key","name","checked","onChange","event","target","indexOf","concat","field","hasCustomError","Object","assign","mt-2 py-2","bg-error-bg","placeholder","ControlledCheckBox","arrayValue","toConsumableArray","idx","slice","SelectManyOrCustom","_ref6","_ref7","Render_question_ControlledCheckBox","_ref8","GroupSelectOne","_ref9","_ref10","scope","_ref11","subLabel","subValue","h-10 border-b border-light-6 hover:bg-light-1","_ref12","RenderQuestion","_ref13","questionError","Render_question_SelectOne","Render_question_SelectManyOrCustom","Render_question_GroupSelectOne","makeOneOf","row","questionSchema","shape","yup","required","oneOf","when","is","answer","otherwisemakeValidationSchema","of","arguments","length","undefined","otherwise","oneOfValues","objectShape","acc2","q","makeValidationSchema","flattenLayout","RenderQuestionForm","blankInitialValues","alignContent","Render_question","lietkeOptions","hoatDong","secondaryLabel","SUCCESS","truthyLevel","validateHoatdong","mucdo","tansuat","nguyennhan","keyMucdo","keyTansuat","keyNguyenNhan","lietke","filter","n","coKhoChiu","lietkeCustom","1-mucdo","1-tansuat","1-nguyennhan","2-mucdo","2-tansuat","2-nguyennhan","3-mucdo","3-tansuat","3-nguyennhan","4-mucdo","4-tansuat","4-nguyennhan","5-mucdo","5-tansuat","5-nguyennhan","6-mucdo","6-tansuat","6-nguyennhan","7-mucdo","7-tansuat","7-nguyennhan","8-mucdo","8-tansuat","8-nguyennhan","Title","title","subtitle","bottom","Section","children","props","objectWithoutProperties","Box","as","Part2","Form_ChildOIDP_Section","Form_ChildOIDP_Title","options","DottedLabel","gap","vertical","levelOptions","Part3","selected","form","justify","flex","noop","Promise","resolve","FormChildOIDP","_ref8$initialValues","_ref8$onSave","reject","validateResult","Array","isArray","push","i","valueMucdo","valueTansuat","valueNguyenNhan","result","Boolean","selectedSet","Set","add","unexhaustiveValues","has","handleValidation","notify","item","find","test","itemIdToName","console","log","JSON","stringify","draft","catch","err","touched","handleChange","handleBlur","Fragment","Form_ChildOIDP_Part2","Form_ChildOIDP_Part3","tabs","RecordInput","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","changeTab","tab","setState","currentTab","nextTab","state","currentTabIndex","findIndex","handleSave","tabName","autosave","doc","recordValue","tabValue","objectSpread","complete","promiseRetry","retry","number","db","put","response","status","_rev","rev","Notify","_this2","_this$state","currentTabValue","fill","background","pad","horizontal","align","Select","valueKey","labelKey","option","style","WebkitOverflowScrolling","overflow","PhieuDieuTra_Main","phieuDieuTra","Render_question_form","bangCauHoi","Form_ChildOIDP","childOIDP","Component","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","_RecordInput__WEBPACK_IMPORTED_MODULE_1__","_ulid__WEBPACK_IMPORTED_MODULE_2__","_db__WEBPACK_IMPORTED_MODULE_3__","RecordNew","_id","kind","TIEUHOC"],"mappings":"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","file":"static/js/4.0f4b4b02.chunk.js","sourcesContent":["import { monotonicFactory } from 'ulid'\n\nconst ulid = monotonicFactory()\n\nexport default ulid;\n","import React from \"react\";\nimport { Box } from \"../components\";\nimport { Heading, Text, Button } from \"grommet\";\nimport { make as SchemaRender } from \"./PDT_SchemaRender.bs\";\nimport {\n  tieuhoc_layout,\n  tieuhoc_yupSchema,\n  tieuhoc_initialValues,\n  tieuhoc_ids,\n} from \"./PDT_Schema.bs\";\nimport { Formik, Form } from \"formik\";\nimport MountPortal from \"../MountPortal\";\nimport FormikAutosave from \"../FormikAutosave\";\nimport FormikNotify from \"../FormikNotify\";\n\nconst PDT_TieuhocForm = ({ initialValues = tieuhoc_initialValues, onSave }) => (\n  <Formik\n    initialValues={initialValues}\n    onSubmit={(values, { setSubmitting }) => {\n      onSave(values, false).then(() => setSubmitting(false));\n    }}\n    validationSchema={tieuhoc_yupSchema}\n    validateOnBlur={true}\n    validateOnChange={false}\n  >\n    {({\n      values,\n      handleSubmit,\n      isSubmitting,\n      setFieldValue,\n      setFieldTouched,\n      isValidating,\n      errors,\n    }) => {\n      return (\n        <Form>\n          <SchemaRender\n            layout={tieuhoc_layout}\n            setFieldValue={setFieldValue}\n            setFieldTouched={setFieldTouched}\n          />\n          <FormikNotify\n            isValidating={isValidating}\n            errors={errors}\n            ids={tieuhoc_ids}\n          />\n          <MountPortal id=\"footerAction\">\n            <Box justifyContent=\"end\" direction=\"row\" alignItems=\"center\">\n              <FormikAutosave\n                values={values}\n                render={({ type }) => {\n                  switch (type) {\n                    case \"INITIAL\":\n                      return null;\n                    case \"SAVING\":\n                      return \"Đang lưu\";\n                    case \"SUCCESS\":\n                      return \"Đã lưu\";\n                    case \"ERROR\":\n                      return \"Có lỗi xảy ra khi lưu\";\n                  }\n                }}\n                onSave={value => onSave(value, true)}\n              />\n              <Button\n                primary\n                label=\"Kiểm tra\"\n                type=\"submit\"\n                size=\"small\"\n                className=\"font-bold\"\n                onClick={handleSubmit}\n                disabled={isSubmitting || isValidating}\n                color=\"white\"\n                margin={{ left: \"small\" }}\n              />\n            </Box>\n          </MountPortal>\n        </Form>\n      );\n    }}\n  </Formik>\n);\n\nconst PDT_Tieuhoc = ({ initialValues, onSave }) => {\n  return (\n    <div>\n      <Box direction=\"column\" alignItems=\"center\">\n        <Heading level={1} textAlign=\"center\">\n          Phiếu điều tra sức khỏe răng miệng\n        </Heading>\n        <Text size=\"large\" color=\"dark-1\">\n          (dành cho trẻ dưới 15 tuổi)\n        </Text>\n      </Box>\n      <PDT_TieuhocForm initialValues={initialValues} onSave={onSave} />\n    </div>\n  );\n};\n\nexport default PDT_Tieuhoc;\n","export default [\n  {\n    id: \"b2\",\n    type: \"select_one\",\n    question: \"Nơi cư ngụ\",\n    content: [\n      { value: \"1\", label: \"Nội thành\" },\n      { value: \"2\", label: \"Ngoại thành\" },\n      { value: \"3\", label: \"Tỉnh\" },\n    ],\n  },\n  {\n    id: \"b4\",\n    type: \"select_one\",\n    question:\n      \"Theo cháu cảm nhận, thì cháu thấy tình trạng **răng** của mình thế nào?\",\n    content: [\n      { value: \"1\", label: \"Hoàn toàn lành mạnh\" },\n      { value: \"2\", label: \"Rất tốt\" },\n      { value: \"3\", label: \"Tốt\" },\n      { value: \"4\", label: \"Trung bình\" },\n      { value: \"5\", label: \"Không được tốt lắm\" },\n      { value: \"6\", label: \"Hoàn toàn không tốt\" },\n      { value: \"9\", label: \"Không biết\" },\n    ],\n  },\n  {\n    type: \"select_one\",\n    id: \"b5\",\n    question:\n      \"Theo cháu cảm nhận, thì cháu thấy tình trạng **nướu** của mình thế nào?\",\n    content: [\n      { value: \"1\", label: \"Hoàn toàn lành mạnh\" },\n      { value: \"2\", label: \"Rất tốt\" },\n      { value: \"3\", label: \"Tốt\" },\n      { value: \"4\", label: \"Trung bình\" },\n      { value: \"5\", label: \"Không được tốt lắm\" },\n      { value: \"6\", label: \"Hoàn toàn không tốt\" },\n      { value: \"9\", label: \"Không biết\" },\n    ],\n  },\n  {\n    type: \"select_one\",\n    id: \"b6\",\n    question:\n      \"Trong suốt 12 tháng vừa qua, có khi nào cháu cảm thấy bị đau răng hay cảm thấy bị khó chịu vì răng miệng của mình không?\",\n    content: [\n      { value: \"1\", label: \"Thường xuyên\" },\n      { value: \"2\", label: \"Thỉnh thoảng\" },\n      { value: \"3\", label: \"Hiếm khi\" },\n      { value: \"4\", label: \"Không bao giờ\" },\n      { value: \"9\", label: \"Không biết\" },\n    ],\n  },\n  {\n    type: \"select_one\",\n    id: \"b7\",\n    question:\n      \"Có bao giờ cháu ngại cười vì mặc cảm răng của mình không đẹp không?\",\n    content: [\n      { value: \"1\", label: \"Rất thường xuyên\" },\n      { value: \"2\", label: \"Thường xuyên\" },\n      { value: \"3\", label: \"Thỉnh thoảng\" },\n      { value: \"4\", label: \"Chưa bao giờ\" },\n    ],\n  },\n  {\n    type: \"select_one\",\n    id: \"b8\",\n    question: \"Cháu có cảm thấy hài lòng với hàm răng của mình không?\",\n    content: [\n      { value: \"1\", label: \"Rất hài lòng\" },\n      { value: \"2\", label: \"Hài lòng\" },\n      { value: \"3\", label: \"Trung  bình\" },\n      { value: \"4\", label: \"Không hài lòng lắm\" },\n      { value: \"5\", label: \"Không hài lòng chút nào\" },\n    ],\n  },\n  {\n    type: \"select_one\",\n    id: \"b9\",\n    question:\n      \"Trong năm vừa qua cháu có khi nào phải nghỉ học thường xuyên hay vài ngày vì bị đau răng không?\",\n    content: [{ value: \"1\", label: \"Có\" }, { value: \"2\", label: \"Không\" }],\n  },\n  {\n    type: \"group_select_one\",\n    id: \"b10\",\n    question:\n      \"Nếu bây giờ cháu phải đến khám ở một phòng nha, thì cháu nghĩ nha sĩ sẽ nói với cháu điều gì? Nha sĩ sẽ nói với cháu rằng (đọc từng câu một):\",\n    values: [\n      { value: \"1\", label: \"Có\" },\n      { value: \"0\", label: \"Không\" },\n      { value: \"9\", label: \"Không biết\" },\n    ],\n    subQuestions: [\n      { value: \"1\", label: \"Cháu phải chải răng kĩ hơn\" },\n      { value: \"2\", label: \"Cháu phải thường đi lấy cao (vôi) răng\" },\n      { value: \"3\", label: \"Cháu có răng cần trám\" },\n      { value: \"4\", label: \"Cháu có răng cần nhổ\" },\n      { value: \"5\", label: \"Răng của cháu cần chỉnh lại cho đều đặn\" },\n      { value: \"6\", label: \"Răng của cháu tốt lắm\" },\n    ],\n  },\n  {\n    type: \"select_one\",\n    id: \"b11\",\n    question: \"Trong 12 tháng vừa qua, cháu đã đi nha sĩ khám răng mấy lần?\",\n    content: [\n      { value: \"1\", label: \"1 lần\" },\n      { value: \"2\", label: \"2 lần\" },\n      { value: \"3\", label: \"3 lần\" },\n      { value: \"4\", label: \"4 lần\" },\n      { value: \"5\", label: \"Nhiều hơn 4 lần\" },\n      { value: \"6\", label: \"Không đến khám trong 12 tháng trước\" },\n      {\n        value: \"7\",\n        label:\n          \"Không nhận được sự chăm sóc răng miệng nào hoặc không gặp nha sĩ nào\",\n      },\n    ],\n  },\n  {\n    type: \"select_one\",\n    id: \"b12\",\n    question:\n      \"Lý do của lần đến khám nha sĩ gần đây nhất là gì? (chọn 1 ô duy nhất)\",\n    content: [\n      { value: \"1\", label: \"Đau, hay có vấn đề với răng, nướu và miệng\" },\n      { value: \"2\", label: \"Điều trị/ tái khám\" },\n      { value: \"3\", label: \"Kiểm tra định kỳ\" },\n      { value: \"9\", label: \"Không biết/ không nhớ\" },\n    ],\n  },\n  {\n    id: \"b13\",\n    type: \"select_many_or_custom\",\n    question:\n      \"Cháu hãy ráng nhớ xem nha sĩ đã làm gì cho cháu trong lần khám đó? Nha sĩ/ Y sĩ đã làm...\",\n    content: [\n      { value: \"1\", label: \"Trám răng\" },\n      { value: \"2\", label: \"Cạo vôi răng\" },\n      { value: \"3\", label: \"Nhổ răng\" },\n      { value: \"4\", label: \"Khám răng\" },\n      { value: \"5\", label: \"Chụp phim răng\" },\n      { value: \"6\", label: \"Lấy tủy răng\" },\n      { value: \"7\", label: \"HD VSRM\" },\n    ],\n    custom: { value: \"8\", label: \"Điều trị khác (ghi rõ)\" },\n  },\n  {\n    type: \"select_one\",\n    id: \"b14\",\n    question: \"Trong lần khám này, ai đã đi với cháu?\",\n    content: [\n      { value: \"1\", label: \"Không có ai\" },\n      { value: \"2\", label: \"Mẹ cháu\" },\n      { value: \"3\", label: \"Ba cháu\" },\n      { value: \"4\", label: \"Anh/Chị của cháu\" },\n      { value: \"5\", label: \"Một người lớn khác\" },\n      { value: \"6\", label: \"Bạn cháu\" },\n    ],\n  },\n  {\n    type: \"select_one\",\n    id: \"b15\",\n    question: \"Cháu đánh răng bao nhiêu lần? (Chọn 1 ô duy nhất)\",\n    content: [\n      { value: \"1\", label: \"Không bao giờ\" },\n      { value: \"2\", label: \"2-3 lần mỗi tháng\" },\n      { value: \"3\", label: \"Mỗi tuần một lần\" },\n      { value: \"4\", label: \"2-6 lần mỗi tuần\" },\n      { value: \"5\", label: \"Mỗi ngày một lần\" },\n      { value: \"6\", label: \"Mỗi ngày ít nhất là hai lần\" },\n    ],\n  },\n  {\n    type: \"select_many_or_custom\",\n    id: \"b16\",\n    question:\n      \"Cháu sử dụng vật dụng nào dưới đây để đánh răng? (đọc tên từng vật dụng)\",\n    content: [\n      { value: \"1\", label: \"Bàn chải\" },\n      { value: \"2\", label: \"Tăm tre\" },\n      { value: \"3\", label: \"Tăm nhựa\" },\n      { value: \"4\", label: \"Chỉ tơ nha khoa\" },\n      { value: \"5\", label: \"Than\" },\n      { value: \"6\", label: \"Vỏ cau\" },\n    ],\n    custom: { value: \"7\", label: \"Vật dụng khác (vui lòng ghi rõ)\" },\n  },\n  {\n    type: \"select_one\",\n    id: \"b17\",\n    question: \"Cháu có sử dụng kem đánh răng để chải răng không?\",\n    content: [{ value: \"1\", label: \"Có\" }, { value: \"2\", label: \"Không\" }],\n  },\n  {\n    type: \"select_one\",\n    id: \"b18\",\n    question: \"Cháu có dùng kem đánh răng có Fluor không?\",\n    content: [\n      { value: \"1\", label: \"Có\" },\n      { value: \"2\", label: \"Không\" },\n      { value: \"9\", label: \"Không biết\" },\n    ],\n  },\n  {\n    type: \"group_select_one\",\n    id: \"b19\",\n    question:\n      \"Cháu có thường ăn hay uống những thức ăn sau đây, dù là ăn/ uống rất ít không? (đọc từng thứ)\",\n    values: [\n      { value: \"6\", label: \"Vài lần/ngày\" },\n      { value: \"5\", label: \"Mỗi ngày\" },\n      { value: \"4\", label: \"Vài lần/tuần\" },\n      { value: \"3\", label: \"1 lần/tuần\" },\n      { value: \"2\", label: \"Vài lần/tháng\" },\n      { value: \"1\", label: \"Không bao giờ\" },\n    ],\n    subQuestions: [\n      { value: \"1\", label: \"Trái cây tươi\" },\n      {\n        value: \"2\",\n        label: \"Bánh quy, bông lan, bánh kem, bánh ngọt\",\n      },\n      {\n        value: \"3\",\n        label: \"Nước chanh, nước ngọt có gas (Coca)\",\n      },\n      { value: \"4\", label: \"Mứt, mật ong\" },\n      { value: \"5\", label: \"Kẹo cao su có đường\" },\n      { value: \"6\", label: \"Kẹo/mè xửng\" },\n      { value: \"7\", label: \"Sữa có đường\" },\n      { value: \"8\", label: \"Trà có đường\" },\n      { value: \"9\", label: \"Cà phê có đường\" },\n    ],\n  },\n  {\n    id: \"b20\",\n    type: \"select_many\",\n    question: \"Ai là người bảo cháu phải tự chăm sóc răng của mình?\",\n    content: [\n      { value: \"1\", label: \"Nha sĩ\" },\n      { value: \"2\", label: \"Bác sĩ y khoa\" },\n      { value: \"3\", label: \"Thầy cô giáo\" },\n      { value: \"4\", label: \"Sách\" },\n      { value: \"5\", label: \"Tivi\" },\n      { value: \"6\", label: \"Đài phát thanh\" },\n      { value: \"7\", label: \"Báo, tạp chí\" },\n      { value: \"8\", label: \"Bạn của cháu\" },\n      { value: \"9\", label: \"Cha của cháu\" },\n      { value: \"10\", label: \"Mẹ của cháu\" },\n      { value: \"11\", label: \"Người khác\" },\n    ],\n  },\n  {\n    id: \"b21\",\n    type: \"select_one_or_custom\",\n    question: \"Cháu vui lòng cho biết nghề nghiệp của cha mình?\",\n    content: [\n      { value: \"1\", label: \"Nông dân\" },\n      { value: \"2\", label: \"Lao động tay chân\" },\n      { value: \"3\", label: \"Nhân viên hành chánh\" },\n      { value: \"4\", label: \"Chuyên viên (Kỹ sư/Bác sĩ)\" },\n      { value: \"5\", label: \"Kinh doanh, buôn bán\" },\n      { value: \"6\", label: \"Nội trợ\" },\n    ],\n    custom: { value: \"7\", label: \"Nghề khác (ghi rõ)\" },\n  },\n  {\n    id: \"b22\",\n    type: \"select_one_or_custom\",\n    question: \"Cháu vui lòng cho biết nghề nghiệp của mẹ mình?\",\n    content: [\n      { value: \"1\", label: \"Nông dân\" },\n      { value: \"2\", label: \"Lao động tay chân\" },\n      { value: \"3\", label: \"Nhân viên hành chánh\" },\n      { value: \"4\", label: \"Chuyên viên (Kỹ sư/Bác sĩ)\" },\n      { value: \"5\", label: \"Kinh doanh, buôn bán\" },\n      { value: \"6\", label: \"Nội trợ\" },\n    ],\n    custom: { value: \"7\", label: \"Nghề khác (ghi rõ)\" },\n  },\n  {\n    id: \"b23\",\n    type: \"select_one\",\n    question: \"Cháu vui lòng cho biết trình độ học vấn của cha mình?\",\n    content: [\n      { value: \"1\", label: \"Không có đi học\" },\n      { value: \"2\", label: \"Chưa hết cấp 1\" },\n      { value: \"3\", label: \"Hoàn tất cấp 1\" },\n      { value: \"4\", label: \"Hoàn tất cấp 2\" },\n      { value: \"5\", label: \"Hoàn tất cấp 3\" },\n      { value: \"6\", label: \"Hoàn tất Cao đẳng/ Đại học\" },\n      {\n        value: \"7\",\n        label: \"Không có người trưởng thành là nam trong gia đình\",\n      },\n      { value: \"9\", label: \"Không biết\" },\n    ],\n  },\n  {\n    id: \"b24\",\n    type: \"select_one\",\n    question: \"Cháu vui lòng cho biết trình độ học vấn của mẹ mình?\",\n    content: [\n      { value: \"1\", label: \"Không có đi học\" },\n      { value: \"2\", label: \"Chưa hết cấp 1\" },\n      { value: \"3\", label: \"Hoàn tất cấp 1\" },\n      { value: \"4\", label: \"Hoàn tất cấp 2\" },\n      { value: \"5\", label: \"Hoàn tất cấp 3\" },\n      { value: \"6\", label: \"Hoàn tất Cao đẳng/ Đại học\" },\n      { value: \"7\", label: \"Không có người trưởng thành là nữ trong gia đình\" },\n      { value: \"9\", label: \"Không biết\" },\n    ],\n  },\n];\n","import schema from \"./Question_schema\";\n\nconst schemaToInitialValues = schema => {\n  return schema.reduce((acc, questionBag) => {\n    switch (questionBag.type) {\n      case \"select_one\":\n        acc[questionBag.id] = \"\";\n        return acc;\n      case \"select_one_or_custom\":\n        acc[questionBag.id] = \"\";\n        acc[questionBag.id + \"_customMessage\"] = \"\";\n        return acc;\n      case \"select_many_or_custom\":\n        acc[questionBag.id] = [];\n        acc[questionBag.id + \"_customMessage\"] = \"\";\n        return acc;\n      case \"select_many\":\n        acc[questionBag.id] = [];\n        return acc;\n      case \"group_select_one\":\n        const subInitialValues = {};\n        questionBag.subQuestions.forEach(sub => {\n          subInitialValues[sub.value] = \"\";\n        });\n        acc[questionBag.id] = subInitialValues;\n        return acc;\n      default:\n        throw new Error(\"Unhandled questionType\");\n    }\n  }, {});\n};\n\nexport default schemaToInitialValues(schema);\n","import React from \"react\";\nimport { FastField } from \"formik\";\nimport {\n  Box,\n  TextInput,\n  CheckBox,\n  RadioButton,\n  DottedLabel,\n} from \"../components\";\nimport objStr from \"obj-str\";\n\nconst RenderQuestionHeader = function({ id, question }) {\n  return (\n    <div className=\"flex-1 mb-3 lg:mb-0\">\n      <strong className=\"uppercase text-brand\">{id + \". \"}</strong>\n      <span>{question}</span>\n    </div>\n  );\n};\n\nconst SelectOne = ({\n  setFieldValue,\n  questionBag,\n  questionValue,\n  hasError,\n  errors,\n}) => {\n  const hasCustom = questionBag.hasOwnProperty(\"custom\");\n  const fieldName = questionBag.id;\n  const fieldValue = questionValue;\n\n  return (\n    <Box\n      id={questionBag.id}\n      direction=\"row-responsive\"\n      className={objStr({\n        \"my-3\": true,\n        \"bg-error-bg py-3\": hasError,\n      })}\n    >\n      <RenderQuestionHeader\n        id={questionBag.id}\n        question={questionBag.question}\n      />\n\n      <Box className=\"flex-1\">\n        {questionBag.content.map(({ value, label }) => (\n          <RadioButton\n            className=\"mb-2\"\n            key={label}\n            name={fieldName}\n            value={value}\n            checked={fieldValue === value}\n            onChange={event => {\n              setFieldValue(fieldName, event.target.value);\n            }}\n            label={<DottedLabel label={label} value={value} />}\n          />\n        ))}\n        <Box direction=\"column\">\n          {hasCustom && (\n            <RadioButton\n              className=\"mb-2\"\n              key={questionBag.custom.label}\n              name={fieldName}\n              value={questionBag.custom.value}\n              checked={fieldValue === questionBag.custom.value}\n              onChange={event => {\n                setFieldValue(fieldName, event.target.value);\n              }}\n              label={\n                <DottedLabel\n                  label={questionBag.custom.label}\n                  value={questionBag.custom.value}\n                />\n              }\n            />\n          )}\n          {hasCustom && questionValue.indexOf(questionBag.custom.value) !== -1 && (\n            <FastField\n              name={`${questionBag.id}_customMessage`}\n              render={({ field }) => {\n                const hasCustomError =\n                  typeof errors[field.name] !== \"undefined\";\n\n                return (\n                  <TextInput\n                    className={objStr({\n                      \"mt-2 py-2\": true,\n                      \"bg-error-bg\": hasCustomError,\n                    })}\n                    placeholder=\"Ghi rõ câu trả lời\"\n                    id={field.name}\n                    {...field}\n                  />\n                );\n              }}\n            />\n          )}\n        </Box>\n      </Box>\n    </Box>\n  );\n};\n\nconst ControlledCheckBox = ({\n  name,\n  label,\n  value,\n  arrayValue,\n  setFieldValue,\n}) => {\n  return (\n    <CheckBox\n      className=\"mb-2\"\n      name={name}\n      checked={arrayValue.indexOf(value) !== -1}\n      label={<DottedLabel value={value} label={label} />}\n      onChange={event => {\n        if (event.target.checked) {\n          setFieldValue(name, [...arrayValue, value]);\n        } else {\n          const idx = arrayValue.indexOf(value);\n          setFieldValue(name, [\n            ...arrayValue.slice(0, idx),\n            ...arrayValue.slice(idx + 1),\n          ]);\n        }\n      }}\n    />\n  );\n};\n\nconst SelectManyOrCustom = ({\n  questionValue,\n  questionBag,\n  setFieldValue,\n  hasError,\n  errors,\n}) => {\n  const hasCustom = questionBag.hasOwnProperty(\"custom\");\n  const fieldName = questionBag.id;\n\n  return (\n    <Box\n      id={questionBag.id}\n      direction=\"row-responsive\"\n      className={objStr({\n        \"my-3\": true,\n        \"bg-error-bg py-3\": hasError,\n      })}\n    >\n      <RenderQuestionHeader\n        id={questionBag.id}\n        question={questionBag.question}\n      />\n      <Box className=\"flex-1\">\n        {questionBag.content.map(({ value, label }) => (\n          <ControlledCheckBox\n            key={label}\n            name={fieldName}\n            label={label}\n            value={value}\n            arrayValue={questionValue}\n            setFieldValue={setFieldValue}\n          />\n        ))}\n        <Box direction=\"column\">\n          {hasCustom && (\n            <ControlledCheckBox\n              name={fieldName}\n              label={questionBag.custom.label}\n              value={questionBag.custom.value}\n              arrayValue={questionValue}\n              setFieldValue={setFieldValue}\n            />\n          )}\n          {hasCustom && questionValue.indexOf(questionBag.custom.value) !== -1 && (\n            <FastField\n              name={`${questionBag.id}_customMessage`}\n              render={({ field }) => {\n                const hasCustomError =\n                  typeof errors[field.name] !== \"undefined\";\n\n                return (\n                  <TextInput\n                    className={objStr({\n                      \"mt-2 py-2\": true,\n                      \"bg-error-bg\": hasCustomError,\n                    })}\n                    placeholder=\"Ghi rõ câu trả lời\"\n                    id={field.name}\n                    {...field}\n                  />\n                );\n              }}\n            />\n          )}\n        </Box>\n      </Box>\n    </Box>\n  );\n};\n\nconst GroupSelectOne = ({\n  setFieldValue,\n  questionBag,\n  questionValue,\n  errors,\n}) => {\n  return (\n    <Box direction=\"column\" className=\"my-3\" id={questionBag.id}>\n      <RenderQuestionHeader\n        id={questionBag.id}\n        question={questionBag.question}\n      />\n      <table className=\"w-full table-auto my-4\">\n        <thead>\n          <tr className=\"h-12 border-b-2\">\n            <th />\n            {questionBag.values.map(({ label, value }) => {\n              return (\n                <th key={value} scope=\"col\" className=\"font-bold center\">\n                  {label} ({value})\n                </th>\n              );\n            })}\n          </tr>\n        </thead>\n        <tbody>\n          {questionBag.subQuestions.map(\n            ({ label: subLabel, value: subValue }) => {\n              const fieldName = `${questionBag.id}.${subValue}`;\n              const fieldValue = questionValue[subValue];\n\n              const hasError =\n                errors && typeof errors[subValue] !== \"undefined\";\n\n              return (\n                <tr\n                  key={subValue}\n                  className={objStr({\n                    \"h-10 border-b border-light-6 hover:bg-light-1\": true,\n                    \"bg-error-bg\": hasError,\n                  })}\n                >\n                  <td scope=\"row\" className=\"text-left font-normal\">\n                    <strong>{subValue}.</strong> {subLabel}\n                  </td>\n                  {questionBag.values.map(({ label, value }) => {\n                    return (\n                      <td key={value}>\n                        <div className=\"w-6 h-6 m-auto\">\n                          <RadioButton\n                            key={label}\n                            name={fieldName}\n                            value={value}\n                            checked={fieldValue === value}\n                            onChange={event => {\n                              setFieldValue(fieldName, event.target.value);\n                            }}\n                          />\n                        </div>\n                      </td>\n                    );\n                  })}\n                </tr>\n              );\n            }\n          )}\n        </tbody>\n      </table>\n    </Box>\n  );\n};\n\nfunction RenderQuestion({\n  questionValue,\n  questionError,\n  setFieldValue,\n  questionBag,\n  errors,\n}) {\n  switch (questionBag.type) {\n    case \"select_one\":\n    case \"select_one_or_custom\":\n      return (\n        <SelectOne\n          hasError={typeof questionError !== \"undefined\"}\n          questionValue={questionValue}\n          setFieldValue={setFieldValue}\n          questionBag={questionBag}\n          errors={errors}\n        />\n      );\n    case \"select_many_or_custom\":\n    case \"select_many\":\n      return (\n        <SelectManyOrCustom\n          hasError={typeof questionError !== \"undefined\"}\n          questionValue={questionValue}\n          setFieldValue={setFieldValue}\n          questionBag={questionBag}\n          errors={errors}\n        />\n      );\n    case \"group_select_one\":\n      return (\n        <GroupSelectOne\n          errors={questionError}\n          questionValue={questionValue}\n          setFieldValue={setFieldValue}\n          questionBag={questionBag}\n        />\n      );\n    default:\n      return (\n        <span color=\"status-critical\">\n          Unknown question type {questionBag.type}\n        </span>\n      );\n  }\n}\n\n/* \n// Not working because of required access to bx_customMessage\nfunction areEqual(prevProps, nextProps) {\n  return (\n    prevProps.questionValue === nextProps.questionValue &&\n    prevProps.questionError === nextProps.questionError\n  );\n}\n\nexport default React.memo(RenderQuestion, areEqual);\n*/\n\nexport default RenderQuestion;\n","import React from \"react\";\nimport { Formik, Form } from \"formik\";\nimport schema from \"./data/Question_schema\";\nimport blankInitialValues from \"./data/Question_schema_initialValues\";\nimport RenderQuestion from \"./Render_question\";\nimport { Box, Heading, Button } from \"../components\";\nimport MountPortal from \"../MountPortal\";\nimport FormikAutosave from \"../FormikAutosave\";\nimport FormikNotify from \"../FormikNotify\";\n\nimport * as yup from \"yup\";\n\nconst makeOneOf = values => values.map(row => row.value);\n\nconst makeValidationSchema = questionSchema => {\n  const shape = questionSchema.reduce((acc, questionBag) => {\n    switch (questionBag.type) {\n      case \"select_one\":\n        acc[questionBag.id] = yup\n          .string()\n          .required()\n          .oneOf(makeOneOf(questionBag.content));\n        return acc;\n      case \"select_one_or_custom\":\n        acc[questionBag.id] = yup\n          .string()\n          .required()\n          .oneOf([...makeOneOf(questionBag.content), questionBag.custom.value]);\n        acc[`${questionBag.id}_customMessage`] = yup\n          .string()\n          .when(questionBag.id, {\n            is: answer => answer === questionBag.custom.value,\n            then: yup.string().required(),\n            otherwisemakeValidationSchema: yup.string(),\n          });\n        return acc;\n      case \"select_makeValidationSchemamany\":\n        acc[questionBag.id] = yup\n          .array()\n          .required()\n          .of(yup.oneOf(makeOneOf(questionBag.content)));\n        return acc;\n      case \"select_many_or_custom\":\n        acc[questionBag.id] = yup\n          .array()\n          .required()\n          .of(\n            yup\n              .string()\n              .oneOf([\n                ...makeOneOf(questionBag.content),\n                questionBag.custom.value,\n              ])\n          );\n        acc[`${questionBag.id}_customMessage`] = yup\n          .string()\n          .when(questionBag.id, {\n            is: (arr = []) => arr.indexOf(questionBag.custom.value) !== -1,\n            then: yup.string().required(),\n            otherwise: yup.string(),\n          });\n        return acc;\n      case \"group_select_one\":\n        const oneOfValues = makeOneOf(questionBag.values);\n        const objectShape = questionBag.subQuestions.reduce((acc2, q) => {\n          acc2[q.value] = yup\n            .string()\n            .required()\n            .oneOf(oneOfValues);\n          return acc2;\n        }, {});\n        acc[questionBag.id] = yup.object(objectShape).required();\n        return acc;\n      default:\n        return acc;\n    }\n  }, {});\n\n  return yup.object(shape).required();\n};\n\nexport const validationSchema = makeValidationSchema(schema);\nconst flattenLayout = schema.reduce((acc, q) => {\n  if (q.custom) {\n    return [...acc, q.id, q.id + \"_customMessage\"];\n  } else {\n    return [...acc, q.id];\n  }\n}, []);\n\nconst RenderQuestionForm = ({ initialValues = blankInitialValues, onSave }) => {\n  return (\n    <Formik\n      initialValues={initialValues}\n      onSubmit={(values, { setSubmitting }) => {\n        onSave(values, false).then(() => setSubmitting(false));\n      }}\n      validationSchema={validationSchema}\n      validateOnBlur={false}\n      validateOnChange={true}\n    >\n      {({\n        values,\n        errors,\n        handleSubmit,\n        isSubmitting,\n        setFieldValue,\n        isValidating,\n      }) => {\n        return (\n          <Form>\n            <Box\n              direction=\"row\"\n              alignContent=\"center\"\n              justifyContent=\"center\"\n              className=\"mb-6 lg:mb-12\"\n            >\n              <Heading level={2} textAlign=\"center\">\n                Bảng câu hỏi <br />\n                Phỏng vấn kiến thức và thói quen chăm sóc sức khỏe răng miệng\n              </Heading>\n            </Box>\n            <Box>\n              {schema.map(questionBag => {\n                return (\n                  <RenderQuestion\n                    key={questionBag.id}\n                    questionValue={values[questionBag.id]}\n                    questionError={errors[questionBag.id]}\n                    setFieldValue={setFieldValue}\n                    questionBag={questionBag}\n                    errors={errors}\n                  />\n                );\n              })}\n            </Box>\n\n            <FormikNotify\n              isValidating={isValidating}\n              errors={errors}\n              ids={flattenLayout}\n            />\n\n            <MountPortal id=\"footerAction\">\n              <Box justifyContent=\"end\" direction=\"row\" alignItems=\"center\">\n                <FormikAutosave\n                  values={values}\n                  render={({ type }) => {\n                    switch (type) {\n                      case \"INITIAL\":\n                        return null;\n                      case \"SAVING\":\n                        return \"Đang lưu\";\n                      case \"SUCCESS\":\n                        return \"Đã lưu\";\n                      case \"ERROR\":\n                        return \"Có lỗi xảy ra khi lưu\";\n                    }\n                  }}\n                  onSave={value => onSave(value, true)}\n                />\n                <Button\n                  primary\n                  label=\"Kiểm tra\"\n                  type=\"submit\"\n                  size=\"small\"\n                  className=\"font-bold\"\n                  onClick={handleSubmit}\n                  disabled={isSubmitting || isValidating}\n                  color=\"white\"\n                  margin={{ left: \"small\" }}\n                />\n              </Box>\n            </MountPortal>\n          </Form>\n        );\n      }}\n    </Formik>\n  );\n};\n\nexport default RenderQuestionForm;\n","export const lietkeOptions = [\n  { value: \"1\", label: \"Đau răng, nhức răng\" },\n  { value: \"2\", label: \"Ê buốt răng khi ăn kem, khi uống nước đá, nước nóng\" },\n  { value: \"3\", label: \"Sâu răng, có lỗ trên răng\" },\n  { value: \"4\", label: \"Răng sữa bị lung lay, sắp rụng\" },\n  {\n    value: \"5\",\n    label: \"Trống răng (răng sữa rụng mà răng vĩnh viễn chưa mọc)\",\n  },\n  { value: \"6\", label: \"Răng vĩnh viễn bị gãy, vỡ lớn, mẻ\" },\n  { value: \"7\", label: \"Màu răng xấu, răng bị lốm đốm trắng đục\" },\n  { value: \"8\", label: \"Hình dạng răng không đẹp hay răng to hoặc nhỏ quá\" },\n  {\n    value: \"9\",\n    label: \"Vị trí của răng (ví dụ như bị cong hoặc bị nhô ra, hay có khe hở)\",\n  },\n  { value: \"10\", label: \"Chảy máu nướu khi chải răng\" },\n  { value: \"11\", label: \"Sưng nướu, đau nướu\" },\n  {\n    value: \"12\",\n    label: \"Vôi răng, răng có vôi đen hay bựa thức ăn bám trên răng\",\n  },\n  { value: \"13\", label: \"Lở loét hay trầy xướt trong miệng\" },\n  { value: \"14\", label: \"Hôi miệng hay hơi thở hôi\" },\n  { value: \"15\", label: \"Có tật ở vùng miệng hay mặt (sứt môi, hở hàm ếch)\" },\n  { value: \"16\", label: \"Răng đang mọc gây đau\" },\n  {\n    value: \"17\",\n    label:\n      \"Thiếu răng vĩnh viễn (răng vĩnh viễn không mọc) làm ăn nhai khó hay mặt không đẹp\",\n  },\n  {\n    value: \"99\",\n    label: \"Những khó chịu khác (ghi rõ)\",\n  },\n];\n\nexport const hoatDong = [\n  {\n    value: \"1\",\n    label: \"Ăn nhai\",\n    secondaryLabel: \"(trong các bữa ăn, ăn kem,...)\",\n  },\n  { value: \"2\", label: \"Nói, phát âm\" },\n  {\n    value: \"3\",\n    label: \"Vệ sinh răng miệng\",\n    secondaryLabel: \"(như súc miệng, chải răng,...)\",\n  },\n  { value: \"4\", label: \"Nghỉ ngơi\", secondaryLabel: \"(kể cả việc ngủ)\" },\n  {\n    value: \"5\",\n    label: \"Tinh thần\",\n    secondaryLabel: \"(vui, buồn, hờn giận, bực tức, chán,...)\",\n  },\n  { value: \"6\", label: \"Cười\", secondaryLabel: \"(không thấy ngại ngùng)\" },\n  {\n    value: \"7\",\n    label: \"Học tập\",\n    secondaryLabel: \"(đi học, học tại lớp, làm bài tập ở nhà)\",\n  },\n  {\n    value: \"8\",\n    label: \"Tiếp xúc mọi người\",\n    secondaryLabel: \"(đi chơi với bạn bè, đến nhà bạn chơi)\",\n  },\n];\n","export const SUCCESS = {\n  type: \"SUCCESS\",\n};\n\nexport const REQUIRED = {\n  type: \"REQUIRED\",\n};\n\nconst truthyLevel = [\"1\", \"2\", \"3\"];\n\nconst isTruthyLevel = level => {\n  return truthyLevel.indexOf(level) !== -1;\n};\n\nexport const validateHoatdong = ({\n  mucdo,\n  tansuat,\n  nguyennhan,\n  keyMucdo,\n  keyTansuat,\n  keyNguyenNhan,\n  lietke,\n}) => {\n  if (mucdo === \"0\") {\n    return [];\n  } else if (mucdo === null) {\n    return [keyMucdo];\n  } else {\n    if (!isTruthyLevel(tansuat)) {\n      return [keyTansuat];\n    } else if (nguyennhan.length === 0) {\n      return [keyNguyenNhan];\n    } else {\n      /* Filter unselected NGUYENNHAN */\n      const nguyennhanFiltered = nguyennhan.filter(\n        n => lietke.indexOf(n) !== -1\n      );\n\n      if (nguyennhanFiltered.length === 0) {\n        return [keyNguyenNhan];\n      }\n      return [];\n    }\n  }\n};\n\nexport const validate = values => {\n  let required = [];\n\n  if (values.coKhoChiu !== \"1\" && values.coKhoChiu !== \"0\") {\n    return {\n      type: \"REQUIRED\",\n      value: [\"coKhoChiu\"],\n    };\n  } else if (values.coKhoChiu === \"0\") {\n    return SUCCESS;\n  }\n\n  const lietke = values.lietke;\n\n  if (Array.isArray(lietke) && lietke.length === 0) {\n    return {\n      type: \"REQUIRED\",\n      value: [\"lietke\"],\n    };\n  }\n  if (lietke.indexOf(\"99\") !== -1 && values.lietkeCustom === \"\") {\n    required.push(\"lietkeCustom\");\n  }\n\n  [1, 2, 3, 4, 5, 6, 7, 8].forEach(i => {\n    const keyMucdo = i + \"-mucdo\";\n    const keyTansuat = i + \"-tansuat\";\n    const keyNguyenNhan = i + \"-nguyennhan\";\n\n    const valueMucdo = values[keyMucdo];\n    const valueTansuat = values[keyTansuat];\n    const valueNguyenNhan = values[keyNguyenNhan];\n\n    const result = validateHoatdong({\n      mucdo: valueMucdo,\n      tansuat: valueTansuat,\n      nguyennhan: valueNguyenNhan,\n      keyMucdo,\n      keyTansuat,\n      keyNguyenNhan,\n      lietke: values.lietke,\n    });\n    required = [...required, ...result];\n  });\n\n  if (Array.isArray(required) && Boolean(required.length)) {\n    return {\n      type: \"REQUIRED\",\n      value: required,\n    };\n  } else {\n    /* NGUYENNHAN exhaustiveness check */\n    const selectedSet = new Set();\n    [1, 2, 3, 4, 5, 6, 7, 8].forEach(i => {\n      const rowSelect = values[`${i}-nguyennhan`];\n      rowSelect.forEach(a => selectedSet.add(a));\n    });\n    const unexhaustiveValues = values.lietke.filter(a => !selectedSet.has(a));\n\n    if (\n      Array.isArray(unexhaustiveValues) &&\n      Boolean(unexhaustiveValues.length)\n    ) {\n      return { type: \"EXHAUSTIVE_CHECK\", value: unexhaustiveValues };\n    } else {\n      return SUCCESS;\n    }\n  }\n};\n","import React from \"react\";\nimport { Formik, Form, Field, FastField } from \"formik\";\nimport { Box as GBox, Heading, Text, Button } from \"grommet\";\nimport {\n  RadioGroup,\n  SelectGroup,\n  TextInput,\n  DottedLabel,\n  Box,\n} from \"../components\";\nimport MountPortal from \"../MountPortal\";\nimport FormikAutosave from \"../FormikAutosave\";\nimport { hoatDong, lietkeOptions } from \"./Form_ChildOIDP_data\";\nimport {\n  validate as handleValidation,\n  REQUIRED,\n} from \"./Form_ChildOIDP_validate\";\nimport * as notify from \"../Notify\";\n\nexport const blankInitialValues = {\n  coKhoChiu: null,\n  lietke: [],\n  lietkeCustom: \"\",\n  \"1-mucdo\": null,\n  \"1-tansuat\": null,\n  \"1-nguyennhan\": [],\n  \"2-mucdo\": null,\n  \"2-tansuat\": null,\n  \"2-nguyennhan\": [],\n  \"3-mucdo\": null,\n  \"3-tansuat\": null,\n  \"3-nguyennhan\": [],\n  \"4-mucdo\": null,\n  \"4-tansuat\": null,\n  \"4-nguyennhan\": [],\n  \"5-mucdo\": null,\n  \"5-tansuat\": null,\n  \"5-nguyennhan\": [],\n  \"6-mucdo\": null,\n  \"6-tansuat\": null,\n  \"6-nguyennhan\": [],\n  \"7-mucdo\": null,\n  \"7-tansuat\": null,\n  \"7-nguyennhan\": [],\n  \"8-mucdo\": null,\n  \"8-tansuat\": null,\n  \"8-nguyennhan\": [],\n};\n\nconst lietkeName = \"lietke\";\nconst lietkeCustomName = \"lietkeCustom\";\n\nconst Title = ({ title, subtitle }) => {\n  return (\n    <Box margin={{ bottom: \"small\" }}>\n      <Heading level=\"2\" color=\"brand\">\n        {title}\n      </Heading>\n      <Text size=\"medium\" level={2}>\n        {subtitle}\n      </Text>\n    </Box>\n  );\n};\n\nconst Section = ({ children, ...props }) => {\n  return (\n    <GBox as=\"section\" margin={{ bottom: \"large\" }} {...props}>\n      {children}\n    </GBox>\n  );\n};\nconst Part2 = ({ setFieldValue, lietke, lietkeCustom }) => {\n  return (\n    <Section>\n      <Title title=\"Phần 2\" subtitle=\"Liệt kê các khó chịu\" />\n      <SelectGroup\n        name={lietkeName}\n        value={lietke}\n        options={lietkeOptions}\n        label={DottedLabel}\n        onChange={value => setFieldValue(lietkeName, value)}\n        gap=\"small\"\n        margin={{ vertical: \"small\" }}\n      />\n\n      {lietke.indexOf(\"99\") !== -1 && (\n        <TextInput\n          value={lietkeCustom}\n          className=\"p-2\"\n          onChange={event => {\n            setFieldValue(lietkeCustomName, event.target.value);\n          }}\n        />\n      )}\n    </Section>\n  );\n};\n\nconst levelOptions = [\n  { label: \"0\", value: \"0\" },\n  { label: \"1\", value: \"1\" },\n  { label: \"2\", value: \"2\" },\n  { label: \"3\", value: \"3\" },\n];\n\nconst Part3 = ({ values, selected }) => {\n  return (\n    <Section>\n      <Title title=\"Phần 3\" subtitle=\"Phiếu ghi nhận chỉ số Child-OIDP\" />\n\n      <table className=\"w-full table-fixed my-4\">\n        <thead>\n          <tr className=\"h-12 border-b-2\">\n            <th scope=\"col\" className=\"font-bold center\">\n              Các hoạt động\n            </th>\n            <th scope=\"col\" className=\"font-bold center\">\n              Mức trầm trọng\n            </th>\n            <th scope=\"col\" className=\"font-bold center\">\n              Tần suất\n            </th>\n            <th scope=\"col\" className=\"font-bold center\">\n              Nguyên nhân\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {hoatDong.map(row => {\n            return (\n              <tr\n                key={row.value}\n                className=\"border-b border-light-6 hover:bg-light-1\"\n              >\n                <td scope=\"row\" className=\"py-4\">\n                  <strong>\n                    {row.value}. {row.label}\n                  </strong>\n                  <br /> {row.secondaryLabel}\n                </td>\n                <td>\n                  <Field\n                    name={`${row.value}-mucdo`}\n                    render={({ field, form: { setFieldValue } }) => {\n                      return (\n                        <RadioGroup\n                          name={field.name}\n                          onChange={value => {\n                            setFieldValue(field.name, value);\n                          }}\n                          options={levelOptions}\n                          value={field.value}\n                          direction=\"row\"\n                          justify=\"center\"\n                          flex\n                          gap=\"small\"\n                        />\n                      );\n                    }}\n                  />\n                </td>\n                <td>\n                  <Field\n                    name={`${row.value}-tansuat`}\n                    render={({ field, form: { setFieldValue } }) => {\n                      const mucdo = values[`${row.value}-mucdo`];\n                      if ([\"1\", \"2\", \"3\"].indexOf(mucdo) === -1) {\n                        return null;\n                      }\n                      return (\n                        <RadioGroup\n                          name={field.name}\n                          onChange={value => {\n                            setFieldValue(field.name, value);\n                          }}\n                          options={levelOptions}\n                          value={field.value}\n                          direction=\"row\"\n                          justify=\"center\"\n                          flex\n                          gap=\"small\"\n                        />\n                      );\n                    }}\n                  />\n                </td>\n                <td className=\"max-w-xs\">\n                  <Field\n                    name={`${row.value}-nguyennhan`}\n                    render={({ field, form: { setFieldValue } }) => {\n                      const mucdo = values[`${row.value}-mucdo`];\n\n                      if ([\"1\", \"2\", \"3\"].indexOf(mucdo) === -1) {\n                        return null;\n                      }\n                      return (\n                        <SelectGroup\n                          name={field.name}\n                          options={selected}\n                          value={field.value}\n                          onChange={value => setFieldValue(field.name, value)}\n                          gap=\"small\"\n                          margin={{ vertical: \"small\" }}\n                        />\n                      );\n                    }}\n                  />\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    </Section>\n  );\n};\n\nconst findLabelFromId = id => {\n  const row = hoatDong.find(row => row.value === id);\n  return row.label;\n};\n\nconst noop = function() {\n  return new Promise(resolve => resolve());\n};\n\nfunction isEmpty(obj) {\n  for (var key in obj) {\n    if (obj.hasOwnProperty(key)) return false;\n  }\n  return true;\n}\n\nconst itemIdToName = id => {\n  switch (id) {\n    case \"coKhoChiu\":\n      return \"Có khó chịu hay không - Phần 1\";\n    case \"lietke\":\n      return \"Liệt kê các khó chịu - Phần 2\";\n    case \"lietkeCustom\":\n      return \"Khó chịu khác - Phần 2\";\n    default:\n      const value = hoatDong.find(row => row.value === id.slice(0, 1));\n\n      if (/^[1-8]-mucdo$/.test(id)) {\n        return `Mức độ ${id.slice(0, 1)} - ${value && value.label}`;\n      } else if (/^[1-8]-nguyennhan$/.test(id)) {\n        return `Nguyên nhân ${id.slice(0, 1)} - ${value && value.label}`;\n      } else if (/^[1-8]-tansuat$/.test(id)) {\n        return `Tần suất ${id.slice(0, 1)} - ${value && value.label}`;\n      }\n      return id;\n  }\n};\nconst FormChildOIDP = ({\n  initialValues = blankInitialValues,\n  onSave = noop,\n}) => (\n  <Formik\n    initialValues={initialValues}\n    onSubmit={(values, { setSubmitting }) => {\n      new Promise((resolve, reject) => {\n        const validateResult = handleValidation(values);\n        if (validateResult.type === \"SUCCESS\") {\n          notify.success(\"Kiểm tra hoàn tất\");\n          resolve(values);\n        } else if (validateResult.type === \"REQUIRED\") {\n          notify.error(\"Các mục dưới đây chưa hoàn tất\", () => (\n            <ul>\n              {validateResult.value.map(item => (\n                <li key={item} className=\"py-2\">\n                  {itemIdToName(item)}\n                </li>\n              ))}\n            </ul>\n          ));\n          reject(validateResult);\n        } else if (validateResult.type === \"EXHAUSTIVE_CHECK\") {\n          console.log(validateResult.value);\n          notify.error(\"Chưa chọn đủ các nguyên nhân khó chịu\", () => (\n            <div>\n              Các khó chịu dưới đây phải nguyên nhân gây khó chịu của ít nhất\n              một hoạt động\n              <ul>\n                {validateResult.value.map(item => (\n                  <li key={item} className=\"py-2\">\n                    {lietkeOptions.find(row => row.value === item).label}\n                  </li>\n                ))}\n              </ul>\n            </div>\n          ));\n          reject(validateResult);\n        } else {\n          notify.error(\"Có lỗi xảy ra\", () =>\n            JSON.stringify(validateResult, null, 2)\n          );\n          reject(validateResult);\n        }\n      })\n        .then(values => onSave(values, values.draft))\n        .then(() => setSubmitting(false))\n        .catch(err => {\n          setSubmitting(false);\n          console.log(err);\n        });\n    }}\n    validateOnChange={false}\n    validateOnBlur={false}\n  >\n    {({\n      values,\n      errors,\n      touched,\n      handleChange,\n      handleBlur,\n      handleSubmit,\n      isSubmitting,\n      isValidating,\n      setFieldValue,\n    }) => {\n      const selected = values.lietke;\n      return (\n        <Box>\n          <Form>\n            <MountPortal id=\"footerAction\">\n              <Box justifyContent=\"end\" direction=\"row\" alignItems=\"center\">\n                <FormikAutosave\n                  values={values}\n                  render={({ type }) => {\n                    switch (type) {\n                      case \"INITIAL\":\n                        return null;\n                      case \"SAVING\":\n                        return \"Đang lưu\";\n                      case \"SUCCESS\":\n                        return \"Đã lưu\";\n                      case \"ERROR\":\n                        return \"Có lỗi xảy ra khi lưu\";\n                    }\n                  }}\n                  onSave={value => onSave(value, true)}\n                />\n                <Button\n                  primary\n                  label=\"Kiểm tra\"\n                  type=\"submit\"\n                  size=\"small\"\n                  className=\"font-bold\"\n                  onClick={handleSubmit}\n                  disabled={isSubmitting || isValidating}\n                  color=\"white\"\n                  margin={{ left: \"small\" }}\n                />\n              </Box>\n            </MountPortal>\n\n            <Box\n              direction=\"row\"\n              justifyContent=\"center\"\n              className=\"mb-6 lg:mb-12\"\n            >\n              <Heading level={2} textAlign=\"center\" size=\"medium\">\n                Bảng câu hỏi về những khó chịu từ răng miệng\n              </Heading>\n            </Box>\n\n            <Section>\n              <Title\n                title=\"Phần 1\"\n                subtitle=\"Trong 3 tháng qua các em có thấy khó chịu hay đau ở vùng răng miệng của mình hay không?\"\n              />\n              <FastField\n                name=\"coKhoChiu\"\n                render={({ field }) => {\n                  return (\n                    <RadioGroup\n                      name={field.name}\n                      value={field.value}\n                      options={[\n                        { label: \"Có\", value: \"1\" },\n                        { label: \"Không\", value: \"0\" },\n                      ]}\n                      onChange={value => setFieldValue(field.name, value)}\n                      direction=\"row\"\n                      gap=\"medium\"\n                      margin={{ vertical: \"small\" }}\n                    />\n                  );\n                }}\n              />\n            </Section>\n\n            {values.coKhoChiu === \"1\" && (\n              <>\n                <Part2\n                  setFieldValue={setFieldValue}\n                  lietke={values.lietke}\n                  lietkeCustom={values.lietkeCustom}\n                />\n                {Boolean(values.lietke.length) && (\n                  <Part3\n                    values={values}\n                    selected={lietkeOptions.filter(\n                      ({ value }) => selected.indexOf(value) !== -1\n                    )}\n                  />\n                )}\n              </>\n            )}\n          </Form>\n        </Box>\n      );\n    }}\n  </Formik>\n);\n\nexport default FormChildOIDP;\n","import React, { Component } from \"react\";\nimport PhieuDieuTra from \"./exam_form/PhieuDieuTra_Main\";\nimport BangCauHoi from \"./questions/Render_question_form\";\nimport ChildOIDP from \"./forms/Form_ChildOIDP\";\nimport promiseRetry from \"promise-retry\";\nimport db from \"./db\";\nimport { Box, Select } from \"grommet\";\nimport * as Notify from \"./Notify\";\nconst tabPhieuDieuTra = \"phieuDieuTra\";\nconst tabBangCauHoi = \"bangCauHoi\";\nconst tabChildOIDP = \"childOIDP\";\n\nconst tabs = [\n  { label: \"Phiếu điều tra\", value: tabPhieuDieuTra },\n  { label: \"Bảng câu hỏi\", value: tabBangCauHoi },\n  { label: \"Child-OIDP\", value: tabChildOIDP },\n];\n\nclass RecordInput extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      recordValue: props.value,\n      currentTab: tabs[0],\n    };\n  }\n\n  changeTab = tab => {\n    this.setState({ currentTab: tab });\n  };\n\n  nextTab = () => {\n    const currentTab = this.state.currentTab;\n    const currentTabIndex = tabs.findIndex(\n      ({ value }) => value === currentTab.value\n    );\n    if (currentTabIndex < 2) {\n      this.setState({ currentTab: tabs[currentTabIndex + 1] });\n    }\n  };\n\n  handleSave = tabName => {\n    return (value, autosave = false) => {\n      let doc = this.state.recordValue;\n\n      let tabValue = !autosave ? { ...value, complete: true } : value;\n\n      doc[tabName] = tabValue;\n\n      return promiseRetry((retry, number) => {\n        return db.put(doc).catch(response => {\n          if (response.status === 409) {\n            retry();\n          } else {\n            return response;\n          }\n        });\n      })\n        .then(response => {\n          this.setState(\n            {\n              recordValue: {\n                ...doc,\n                _rev: response.rev,\n              },\n            },\n            () => {\n              if (!autosave) {\n                this.nextTab();\n              }\n            }\n          );\n        })\n        .catch(err => {\n          Notify.error(\"Có lỗi xảy ra khi lưu\", \"Vui lòng thử lại\");\n          console.log(err);\n        });\n    };\n  };\n\n  render() {\n    const { currentTab, recordValue } = this.state;\n    const { value: currentTabValue } = currentTab;\n    return (\n      <Box fill>\n        <Box\n          background=\"brand\"\n          pad={{ horizontal: \"medium\", vertical: \"small\" }}\n          direction=\"row-responsive\"\n          justify=\"between\"\n          align=\"center\"\n        >\n          <Select\n            id=\"select\"\n            name=\"select\"\n            placeholder=\"Select\"\n            options={tabs}\n            valueKey=\"value\"\n            labelKey=\"label\"\n            value={currentTab}\n            onChange={({ option }) => {\n              this.changeTab(option);\n            }}\n          />\n          <div id=\"footerAction\" className=\"mt-2 mb-4 md:m-0\" />\n        </Box>\n        <Box\n          fill\n          style={{ WebkitOverflowScrolling: \"touch\" }}\n          pad=\"medium\"\n          overflow=\"auto\"\n        >\n          {currentTabValue === tabPhieuDieuTra && (\n            <PhieuDieuTra\n              initialValues={recordValue.phieuDieuTra}\n              onSave={this.handleSave(tabPhieuDieuTra)}\n            />\n          )}\n          {currentTabValue === tabBangCauHoi && (\n            <BangCauHoi\n              initialValues={recordValue.bangCauHoi}\n              onSave={this.handleSave(tabBangCauHoi)}\n            />\n          )}\n          {currentTabValue === tabChildOIDP && (\n            <ChildOIDP\n              initialValues={recordValue.childOIDP}\n              onSave={this.handleSave(tabChildOIDP)}\n            />\n          )}\n        </Box>\n      </Box>\n    );\n  }\n}\n\nexport default RecordInput;\n","import React from \"react\";\nimport RecordInput from \"./RecordInput\";\nimport ulid from \"./ulid\";\nimport { TIEUHOC } from \"./db\";\n\nconst RecordNew = () => {\n  const id = ulid();\n  return (\n    <RecordInput\n      key={id}\n      value={{\n        _id: id,\n        kind: TIEUHOC,\n      }}\n    />\n  );\n};\n\nexport default RecordNew;\n"],"sourceRoot":""}